# ---- Data ----
data:
  dataset: cifar10
  data_dir: ./data
  num_classes: 10

# ---- Clients ----
clients:
  total: 10
  concurrent: 5
  local_epochs: 1
  batch_size: 128
  lr: 0.01
  momentum: 0.9
  weight_decay: 5e-4

  # --- heterogeneity controls ---
  struggle_percent: 30          # % of all clients that are slow
  delay_slow_range: [0.8, 2.0]  # seconds, Uniform[a, b] for slow clients
  delay_fast_range: [0.0, 0.2]  # seconds, Uniform[a, b] for fast/normal clients
  jitter_per_round: 0.1         # extra +/- seconds each local fit; 0 disables
  fix_delays_per_client: true   # true: sample once per client; false: resample every fit

# ---- Async FedAsync ----
async:
  c: 0.5
  fedasync_mixing_alpha: 0.5
  use_sample_weighing: true

# ---- Evaluation / stopping ----
eval:
  interval_seconds: 15      # evaluate/log every T seconds
  target_accuracy: 0.8     # stop when global test_acc >= this value

# ---- Safety cap on merges (optional) ----
train:
  max_rounds: 20

# ---- Partitioning ----
partition_alpha: 0.5

# ---- Reproducibility ----
seed: 42

# ---- Runtime / I/O ----
server_runtime:
  client_delay: 0.0   # extra global delay added on every client before training

io:
  checkpoints_dir: ./checkpoints/FedAsync
  logs_dir: ./logs
  results_dir: ./results

  # configurable file paths
  global_log_csv: ./logs/FedAsync.csv
  client_participation_csv: ./logs/FedAsyncClientParticipation.csv
  final_model_path: ./results/FedAsyncModel.pt
