data:
  dataset: "cifar10"
  data_dir: "./data"
  num_classes: 10

clients:
  total: 20
  concurrent: 5
  local_epochs: 1
  batch_size: 128
  lr: 0.005
  momentum: 0.0
  weight_decay: 0.001
  grad_clip: 5.0
  
  # Straggler simulation
  struggle_percent: 0
  delay_slow_range: [0.0, 0.0]
  delay_fast_range: [0.0, 0.0]
  jitter_per_round: 0.0
  fix_delays_per_client: true

# TrustWeight-specific parameters
trustweight:
  buffer_size: 5
  buffer_timeout_s: 0.0
  use_sample_weighing: true
  eta: 0.5
  theta: [1.0, -0.1, 0.2]  # Quality weights: [loss_improvement, update_norm, momentum_alignment]
  freshness_alpha: 0.1     # Staleness decay: exp(-alpha * tau)
  beta1: 0.0               # Guard term on staleness
  beta2: 0.0               # Guard term on update norm
  momentum_gamma: 0.9      # Momentum update factor

eval:
  interval_seconds: 0.5
  target_accuracy: 0.80

train:
  max_rounds: 20
  update_clip_norm: 5.0

partition_alpha: 1000.0  # IID (1000) or non-IID (lower values)

seed: 1

server_runtime:
  client_delay: 0.0

io:
  checkpoints_dir: "./checkpoints/TrustWeight"
  logs_dir: "./logs"
  results_dir: "./results"
  global_log_csv: "./logs/TrustWeight.csv"
  client_participation_csv: "./logs/TrustWeightClientParticipation.csv"
  final_model_path: "./results/TrustWeightModel.pt"
